<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>

<script type="text/x-template" id="gallery">
	<div class="gallery-wrapper">
		<a href="index.html" class="home-link">Home</a>
		<div class="art-gallery-item" v-for="(art, index) in galleryArray()" v-show="showArt(index)">
			
			<span id="back-item-gallery" v-if="art.type !== 'special+gallery+item'" v-on:click="chooseArt(index - 1)"><</span>

			<div class="special-gallery-item" v-if="art.type === 'special+gallery+item'">
				<div class="mini-gallery">
					<figure v-for="(k,v) in art.imgColumn">
						<img v-for="i in k.img" v-bind:src="url(i)">
						<caption v-if="k.text">{{k.text}}</caption>
					</figure>
				</div>
			</div>

			<div class="portrait-image-quote" v-if="art.type === 'portrait+image+quote'">
				<figure>
					<img v-bind:src="url(art.imgUrl)">
					<figcaption>
						{{art.title}}
						<br>
						{{art.artistName}}
						<br>
						{{art.medium}}
						<br>
						{{art.dimensions}}
					</figcaption>
				</figure>
				<blockquote>
					{{art.quote}}
				</blockquote>
			</div>

			<div class="landscape-image" v-if="art.type === 'landscape+image'">
				<figure>
					<img :src="url(art.imgUrl)">
					<figcaption>
						{{art.title}}
						<br>
						{{art.artistName}}
						<br>
						{{art.medium}}
						<br>
						{{art.dimensions}}
					</figcaption>
				</figure>
			</div>

			<div v-if="art.type === 'quote'">
				<blockquote>
					{{art.quote}}
				</blockquote>
			</div>
			
			<div>
				<span id="forward-item-gallery" v-if="art.type !== 'special+gallery+item'" v-on:click="chooseArt(index + 1)">></span>
			</div>

			<div class="art-gallery-nav-container">
				<div class="art-gallery-nav" v-bind:class="{ 'bottom-sheet-open' : bottomSheetOpen === true }">
					<div class="bottom-sheet-row-1">
						<div class="art-gallery-nav-title-container" v-on:click="bottomSheetOpen = !bottomSheetOpen">
							<h4>{{sideBarModule('title')}}</h4>
							<h5>{{sideBarModule('subtitle')}}</h5>
						</div>
						<div class="art-gallery-nav-item-tracker-container" v-if="art.type !== 'special+gallery+item'">
							<span v-for="(art, index) in galleryArray()" v-on:click="chooseArt(index)" v-bind:class="{ 'active': showArt(index) }"></span>
						</div>
					</div>
					<div class="bottom-sheet-row-2">
						<div class="art-gallery-nav-description-container" v-show="bottomSheetOpen" v-html="sideBarModule('description')"></div>
						<div class="art-gallery-nav-bottom-sheet-options-container" v-show="bottomSheetOpen">
							<table>
								<tr>
									<td>ðŸ”—</td>
									<td>Share Link</td>
								</tr>
								<tr>
									<td>F</td>
									<td>Facebook</td>
								</tr>
								<tr>
									<td>T</td>
									<td>Twitter</td>
								</tr>
								<tr>
									<td>E</td>
									<td>Email the artist</td>
								</tr>
								<tr>
									<td>$</td>
									<td>Bid on artwork</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</script>

<script type="text/javascript">

	const artist = {
	  data: function() {
	  	return {
	  		currentSlide: 0,
	  		sideBarOpen: true,
	  		bottomSheetOpen: false,
	  		artists: {
	  			'water-series': {
	  				module: {
	  					title: 'Water Series',
	  					subtitle: 'Abstractions water movements by Anne Nelson',
	  					description: '<p>I have been listening to a lot of krautrock lately. It is pretty good, lots of drums, some yelling even, and the early discoveries of modulation and their effects on acoustic instruments.</p>'
	  				},
	  				gallery: [
	  					{
	  						type: 'portrait+image+quote',
	  						title: 'Title 1',
	  						imgUrl: 'portrait.png',
	  						artistName: 'Anne Nelson',
	  						medium: 'Acrylic paint on paper',
	  						dimensions: '100 x 100',
	  						quote: 'This is a long quote. I hope there are a lot of cool things to say about this quote. Like this quote is the quote of all quotes. You can quote this quote and get a quote of 1 million dollars.'
	  					},
	  					{
	  						type: 'portrait+image+quote',
	  						title: 'Title 2',
	  						imgUrl: 'portrait.png',
	  						artistName: 'Anne Nelson',
	  						medium: 'Acrylic paint on paper',
	  						dimensions: '100 x 100',
	  						quote: 'This is a short quote. Simple quote.'
	  					},
	  					{
	  						type: 'portrait+image+quote',
	  						title: 'Title 3',
	  						imgUrl: 'portrait.png',
	  						artistName: 'Anne Nelson',
	  						medium: 'Acrylic paint on paper',
	  						dimensions: '100 x 100',
	  						quote: 'This is a short quote. Simple quote.'
	  					},
	  					{
	  						type: 'portrait+image+quote',
	  						title: 'Title 4',
	  						imgUrl: 'portrait.png',
	  						artistName: 'Anne Nelson',
	  						medium: 'Acrylic paint on paper',
	  						dimensions: '100 x 100',
	  						quote: 'This is a short quote. Simple quote.'
	  					},
	  					{
	  						type: 'landscape+image',
	  						title: 'Title 5',
	  						imgUrl: 'background.png',
	  						artistName: 'Anne Nelson',
	  						medium: 'Acrylic paint on paper',
	  						dimensions: '100 x 100'
	  					},
	  					{
	  						type: 'quote',
	  						quote: 'Amazing quote - exquisitely executed with the voice box - you really captured the zeitgeist of the people - way to go, Quote!'
	  					}
	  				]
	  			},
	  			'water-creatures': {
	  				module: {
	  					title: 'Water Creatures',
	  					subtitle: 'Not so scary water monsters at Bayou St John',
	  					description: '<p>Creatures can be a gas, liquid, solid, or a combination of those two. Anne attempts to do the impossible by creating additional states and combinations in order to evoke its possible movements juxtaposed to its limitless shapes.</p><p>Water can be a gas, liquid, solid, or a combination of those two. Anne attempts to do the impossible by creating additional states and combinations in order to evoke its possible movements juxtaposed to its limitless shapes.</p><p>Water can be a gas, liquid, solid, or a combination of those two. Anne attempts to do the impossible by creating additional states and combinations in order to evoke its possible movements juxtaposed to its limitless shapes.</p><ul><li><a href="#">Link 1</a></li><li><a href="#">Link 2</a></li><li><a href="#">Link 3</a></li></ul><p>Water can be a gas, liquid, solid, or a combination of those two. Anne attempts to do the impossible by creating additional states and combinations in order to evoke its possible movements juxtaposed to its limitless shapes.</p>'
	  				},
	  				gallery: [
	  					{
	  						type: 'portrait+image+quote',
	  						title: 'Title 1',
	  						imgUrl: 'water-creature/1.jpg',
	  						artistName: 'Miss Photographer',
	  						medium: 'Photograph',
	  						quote: 'Creatures are incredible. The natural world is incredible. Man, just look at everything around us. Wow. Who do you think made it all? Or do you really just think it evolved? Maybe both? Maybe alien creatures creating other creatures on earth?'
	  					},
	  					{
	  						type: 'landscape+image',
	  						title: 'Title 2',
	  						imgUrl: 'water-creature/2.jpg',
	  						artistName: 'Miss Photographer',
	  						medium: 'Photograph'
	  					},
	  					{
	  						type: 'landscape+image',
	  						title: 'Title 3',
	  						imgUrl: 'water-creature/3.jpg',
	  						artistName: 'Miss Photographer',
	  						medium: 'Photograph'
	  					},
	  					{
	  						type: 'landscape+image',
	  						title: 'Title 4',
	  						imgUrl: 'water-creature/4.jpg',
	  						artistName: 'Miss Photographer',
	  						medium: 'Photograph'
	  					},
	  					{
	  						type: 'landscape+image',
	  						title: 'Title 5',
	  						imgUrl: 'water-creature/5.jpg',
	  						artistName: 'Miss Photographer',
	  						medium: 'Photograph'
	  					},
	  					{
	  						type: 'landscape+image',
	  						title: 'Title 6',
	  						imgUrl: 'water-creature/6.jpg',
	  						artistName: 'Miss Photographer',
	  						medium: 'Photograph'
	  					}
	  				]
	  			},
	  			'swbno-1': {
	  				module: {
	  					title: 'SWBNO Site Visit',
	  					subtitle: 'Getting pumped with pumps',
	  					description: '<p>This fall, members of the Mixed Media team visited Melpomeme Pumping Station, located in New Orleans.</p>'
	  				},
	  				gallery: [
	  					{
	  						type: 'special+gallery+item',
	  						title: 'Special Gallery Item',
	  						imgColumn: [
	  							{img: ['swbno-1/12.jpg']},
	  							{img: ['swbno-1/1.jpg','swbno-1/3.jpg']},
	  							{img: ['swbno-1/4.jpg']},
	  							{img: ['swbno-1/5.jpg']},
	  							{img: ['swbno-1/6.jpg'], text: 'Lots of text, lots of text'}
	  						]
	  					}
	  				]
	  			}
	  		}
	  	}
	  },
	  props: ['title', 'subtitle', 'description'],
	  template: '#gallery',
  	  methods: {
  	  	sideBarModule: function(type) {
  	  		let artistName = this.$route.params.artist;
  	  		let artists = this.artists;
  	  		return artists[artistName].module[type];
  	  	},
  	    galleryArray: function() {
  	    	let artistName = this.$route.params.artist;
  	    	let artists = this.artists;
  			return artists[artistName].gallery;
        },
        showArt: function(index) {
        	return this.currentSlide === index;
        },
        chooseArt: function(index) {
        	this.currentSlide = index;
        },
        url: function(path) {
        	if (document.location.hostname) {
        		return '' + path;
        	} else {
        		return '../../cdn/' + path;
        	}
        }
  	  }
};


	// 2. Define some routes
	// Each route should map to a component. The "component" can
	// either be an actual component constructor created via
	// `Vue.extend()`, or just a component options object.
	// We'll talk about nested routes later.
	const routes = [
	  {
	  	path: '/main/:artist',
	  	component: artist,
	  	props: true
	  }
	]

	// 3. Create the router instance and pass the `routes` option
	// You can pass in additional options here, but let's
	// keep it simple for now.
	const router = new VueRouter({
	  routes // short for `routes: routes`
	})

	// 4. Create and mount the root instance.
	// Make sure to inject the router with the router option to make the
	// whole app router-aware.
	const app = new Vue({
	  router,
	  el: '#app',
	  components: {
	  	artist: artist,
	  	// series: series
	  }
	}).$mount('#app')
</script>